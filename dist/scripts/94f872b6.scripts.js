"use strict";function attachFollowHashTag(){React.renderComponent(AddHashtag(null),document.getElementById("followHashTag"))}function addTweetieShoutboxList(){React.renderComponent(TweetieShoutboxList(null),document.getElementById("shout-here"))}angular.module("twitterDashboardApp",[]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/home",{templateUrl:"views/home.html",controller:"home"}).otherwise({redirectTo:"/"})}]),angular.module("twitterDashboardApp").controller("MainCtrl",["$scope",function(){}]),angular.module("twitterDashboardApp").controller("home",["$scope","$window",function(a,b){b.scope=a,a.tags=[],attachFollowHashTag(),b.cb=new Codebird,b.cb.setConsumerKey("XjJEA1OJuzlbr5ZbQ1gcQ","ywIcxyQ0rCjwcUCdhx1gizNLuSic0imxE4KF8WwWro"),b.cb.setToken("68297093-bxKc5rYXSnL6wCD4yq25W1F1g54GUz9Y7ygcCpN3G","bJGpmsr0qKELQWB6rJY4NQfsTVvNyI4RIzpyFxUDgHEEt"),a.$watch("tags",function(a){b.displayTags=a},!0),addTweetieShoutboxList()}]);var ListHashtags=React.createClass({displayName:"ListHashtags",render:function(){var a=function(a){return React.DOM.li({className:"text-info"},a)};return React.DOM.ul({className:"nav nav-list taglist"},this.props.tags.map(a))}}),AddHashtag=React.createClass({displayName:"AddHashtag",getInitialState:function(){return{tags:[],currTag:""}},onChange:function(a){var b=a.target.value.trim();this.setState({currTag:b})},onSubmit:function(a){if(a.preventDefault(),this.state.currTag){var b="#"+this.state.currTag;updatedTags=this.state.tags.concat([b]),this.setState({tags:updatedTags,currTag:""}),window.scope.tags.push(b),window.scope.$apply()}},componentDidMount:function(){$(".addNewTag").focus()},render:function(){return React.DOM.div({className:"follow-hashtag"},React.DOM.form({onSubmit:this.onSubmit},React.DOM.div({className:"input-prepend input-append"},React.DOM.span({className:"add-on"},"#"),React.DOM.input({className:"span9 addNewTag",type:"text",placeholder:"hashtag",onChange:this.onChange,value:this.state.currTag}),React.DOM.button({className:"btn"},"Follow"))),ListHashtags({tags:this.state.tags}))}}),TweetieShoutbox=React.createClass({displayName:"TweetieShoutbox",getInitialState:function(){return{tweets:[]}},showTweet:function(a){return React.DOM.div({className:"tweet span12"},React.DOM.div({className:"tweet-image span2"},React.DOM.img({src:a.image})),React.DOM.div({className:"tweet-content span10"},React.DOM.div({className:"tweet-name"},a.name," (",React.DOM.span({className:"tweet-screenName"},React.DOM.a({target:"_blank",href:"https://twitter.com/"+a.screen_name},"@"+a.screen_name)),") "),React.DOM.div({className:"tweet-text"},a.text)))},showAllTweets:function(){return 0!==this.state.tweets.length?this.state.tweets.map(this.showTweet):React.DOM.div({className:"tweet-waiting"})},getTweets:function(){$(".refreshing").show();var a=this,b={lang:"en",count:10,q:this.props.tag,result_type:"recent"};window.cb.__call("search_tweets",b,function(b){var c=[],d=b.statuses;for(i=0;i<d.length;i++){var e={},f=b.statuses[i];e.name=f.user.name,e.screen_name=f.user.screen_name,e.image=f.user.profile_image_url,e.text=f.text,c.push(e)}a.setState({tweets:c}),$(".refreshing").hide()})},componentDidMount:function(){this.getTweets(),this.interval=setInterval(this.getTweets,2e3)},render:function(){return React.DOM.div({className:"tweet-box"},React.DOM.div({className:"heading"},React.DOM.span({className:"headingText pull-left"},this.props.tag),React.DOM.span({className:"headingText pull-right refreshing"},"Refreshing.."),React.DOM.span({className:"clearfix"})),React.DOM.div({className:"tweet-list"},this.showAllTweets()))}}),TweetieShoutboxList=React.createClass({displayName:"TweetieShoutboxList",getInitialState:function(){return{tags:[]}},updateTags:function(){this.setState({tags:window.displayTags})},showList:function(){var a=function(a){return TweetieShoutbox({tag:a})};return 0!==this.state.tags.length?this.state.tags.map(a):React.DOM.div({className:"empty-banner"},"Enter new #Hashtag !")},componentDidMount:function(){this.interval=setInterval(this.updateTags,500)},render:function(){return React.DOM.div({className:"shout-list"},this.showList())}});